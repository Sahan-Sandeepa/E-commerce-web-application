<div class="flex flex-col lg:flex-row w-full max-w-screen-xl mx-auto p-4 gap-10">
  <div>
    <h1 class="text-3xl font-bold text-gray-800">Your Orders</h1>
    <p class="text-sm text-gray-500">Here's the list of your orders</p>
  </div>
</div>

<hr class="flex flex-col lg:flex-row w-full max-w-screen-xl mx-auto p-4 gap-10 border-gray-200 my-4" />

@if (ordersQuery.isSuccess() && ordersQuery.data().numberOfElements !== 0) {
<div
  class="flex flex-col lg:flex-row w-full max-w-screen-xl mx-auto p-4 gap-10 overflow-x-auto rounded-lg border border-gray-200 shadow-sm">
  <table class="min-w-full divide-y divide-gray-200">
    <thead class="bg-gray-50">
      <tr>
        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">#</th>
        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Products</th>
        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Items</th>
        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Total</th>
      </tr>
    </thead>
    <tbody class="bg-white divide-y divide-gray-200">
      @for (order of ordersQuery.data().content!; track order.publicId; let i = $index) {
      <tr class="hover:bg-gray-50 transition">
        <td class="px-4 py-3 text-sm text-gray-700">{{ i + 1 }}</td>
        <td class="px-4 py-3 text-sm text-gray-700">{{ computeItemsName(order.orderedItems) }}</td>
        <td class="px-4 py-3 text-sm">
          <span class="inline-flex px-2 py-1 rounded-full text-xs font-semibold" [ngClass]="{
                  'bg-yellow-100 text-yellow-800': order.status === 'PENDING',
                  'bg-green-100 text-green-800': order.status === 'SHIPPED',
                  'bg-blue-100 text-blue-800': order.status === 'PAID',
                  'bg-red-100 text-red-800': order.status === 'CANCELLED'
                }">
            {{ order.status }}
          </span>
        </td>
        <td class="px-4 py-3 text-sm text-gray-700">{{ computeItemsQuantity(order.orderedItems) }}</td>
        <td class="px-4 py-3 text-sm font-medium text-gray-800">{{ computeTotal(order.orderedItems) | currency }}</td>
      </tr>
      }
    </tbody>
  </table>
</div>
} @else if (ordersQuery.isPending()) {
<div class="flex flex-col lg:flex-row w-full max-w-screen-xl mx-auto p-4 gap-10">
  <span class="loading loading-spinner loading-lg"></span>
</div>
} @else if (ordersQuery.data()?.numberOfElements === 0) {
<div class="flex flex-col lg:flex-row w-full max-w-screen-xl mx-auto p-4 gap-10">
  <div class="flex items-center gap-2 text-blue-500">
    <fa-icon [icon]="['fas', 'circle-exclamation']" size="2x"></fa-icon>
    <span class="text-gray-600 text-sm">No order created yet.</span>
  </div>
</div>
} @else if (ordersQuery.isError() && checkIfPlatformBrowser()) {
<div class="flex flex-col lg:flex-row w-full max-w-screen-xl mx-auto p-4 gap-10">
  <div class="flex items-center gap-2 text-red-500">
    <fa-icon [icon]="['fas', 'circle-exclamation']" size="2x"></fa-icon>
    <span class="text-sm">Error! Failed to load orders!</span>
  </div>
</div>
}